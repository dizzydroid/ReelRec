# Test Cases for Movie Recommendation System

| Scen # | Scenario Description                                                          | Req #    | Cond #   | Test Data                                                                                                                                                           | Test Conditions/Steps                                                                                                                                                                                                                                        | Expected Results/Comments                                                                                                                                                                           | Post-Conditions                                                  | Actual Results       | Pass/Fail (Y/N) |
|--------|-------------------------------------------------------------------------------|----------|----------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|-------------------------------------------------------------------|----------------------|-----------------|
| 1      | Validate proper movie title with correct capitalization                       | Req-1.1  | Cond-1.1 | Movie Title: **"The Shawshank Redemption"**                                                                                                                          | Invoke `checkMovieTitle("The Shawshank Redemption")`                                                                                                                                                                                                        | No error message returned; title is deemed valid                                                                                                              | Title accepted as valid                                          | N/A (Unit test result) | Y               |
| 2      | Validate incorrect movie title (word not starting with capital letter)          | Req-1.1  | Cond-1.2 | Movie Title: **"the Godfather"**                                                                                                                                       | Invoke `checkMovieTitle("the Godfather")`                                                                                                                                                                                                                     | Returns error: **"ERROR: Movie Title "the Godfather" is wrong"**                                                                                                  | Validation failure logged for title                              | N/A                  | Y               |
| 3      | Validate correct movie id format (capital letters from title + 3 digits)        | Req-1.2  | Cond-1.1 | Movie Title: **"The Dark Knight"**<br>Movie Id: **"TDK003"**                                                                                                         | Invoke `checkMovieId("TDK003", "The Dark Knight")`                                                                                                                                                                                                          | No error message returned                                                                                                                                     | Movie id is stored as valid and unique                           | N/A                  | Y               |
| 4      | Validate incorrect movie id letters                                             | Req-1.2  | Cond-1.2 | Movie Title: **"The Dark Knight"**<br>Movie Id: **"TD007"** (Missing expected letter pattern “TDK”)                                                                 | Invoke `checkMovieId("TD007", "The Dark Knight")`                                                                                                                                                                                                            | Returns error: **"ERROR: Movie Id letters "TD007" are wrong"**                                                                                                   | Error recorded; movie rejected due to id pattern                   | N/A                  | Y               |
| 5      | Validate uniqueness of movie id numeric part                                    | Req-1.2  | Cond-1.3 | Movie 1: Title: **"The Godfather"**, Movie Id: **"TG001"**<br>Movie 2: Title: **"The Godfather Part II"**, Movie Id: **"TG001"**                               | First, validate Movie 1 using `checkMovieId("TG001", "The Godfather")`; then validate Movie 2 with the same numeric part using `checkMovieId("TG001", "The Godfather Part II")`                                                                          | Movie 1 should pass; Movie 2 returns error: **"ERROR: Movie Id numbers "TG001" aren’t unique"**                                                                    | Duplicate numeric part is rejected                                | N/A                  | Y               |
| 6      | Validate proper user name with alphabetic characters and no leading spaces      | Req-2.1  | Cond-2.1 | User Name: **"John Doe"**                                                                                                                                              | Invoke `checkUserName("John Doe")`                                                                                                                                                                                                                          | No error message; name considered valid                                                                                                                       | User name accepted                                               | N/A                  | Y               |
| 7      | Validate incorrect user name with leading space                                 | Req-2.1  | Cond-2.2 | User Name: **" John Doe"** (note the leading space)                                                                                                                 | Invoke `checkUserName(" John Doe")`                                                                                                                                                                                                                          | Returns error: **"ERROR: User Name " John Doe" is wrong"**                                                                                                      | Validation failure logged for user name                           | N/A                  | Y               |
| 8      | Validate correct user id format (9 alphanumeric, starting with digits)          | Req-2.2  | Cond-2.1 | User Id: **"12345678X"**                                                                                                                                               | Invoke `checkUserId("12345678X")`                                                                                                                                                                                                                             | No error message returned                                                                                                                                     | User id recorded as valid and unique                               | N/A                  | Y               |
| 9      | Validate incorrect user id format (does not start with digit / wrong length)      | Req-2.2  | Cond-2.2 | User Id: **"A12345678"**                                                                                                                                               | Invoke `checkUserId("A12345678")`                                                                                                                                                                                                                             | Returns error: **"ERROR: User Id "A12345678" is wrong"**                                                                                                         | User id rejected                                                  | N/A                  | Y               |
| 10     | Validate movies file parsing functionality                                    | Req-3.1  | Cond-3.1 | Sample **movies.txt** contents:<br>`The Shawshank Redemption, TSR001`<br>`Drama`<br>`The Godfather, TG002`<br>`Crime, Drama`                                        | Run `loadMoviesFromFile(filePath)` on a test file containing the above data                                                                                                                                    | Two movie entries are created: <br>- "The Shawshank Redemption" with genres `[Drama]`<br>- "The Godfather" with genres `[Crime, Drama]`                           | Data structures (movieCategories & movieIdMap) populated correctly     | N/A                  | Y               |
| 11     | Validate users file parsing functionality                                     | Req-3.2  | Cond-3.1 | Sample **users.txt** contents:<br>`John Doe, 12345678X`<br>`TSR001, TG002`<br>`Jane Doe, 87654321X`<br>`TG002`                                                  | Run `loadUsersFromFile(filePath)` on a test file with the above contents                                                                                                                                        | Two user objects created:<br>- "John Doe" with watch list: [`TSR001`, `TG002`]<br>- "Jane Doe" with watch list: [`TG002`]                                        | Users list inside RecommendationSystem is populated                 | N/A                  | Y               |
| 12     | Validate recommendation generation based on shared genres                     | Req-4.1  | Cond-4.1 | Movies:<br>- "The Shawshank Redemption" (Drama, id: TSR001)<br>- "The Godfather" (Crime, Drama, id: TG002)<br>- "The Dark Knight" (Action, Drama, id: TDK003)<br>User watch list: [`TSR001`] | Add movies to system and assign user watch list<br>Invoke `recommendMoviesForUser(user)` for a user who watched "The Shawshank Redemption"                                                           | Should recommend movies sharing genre **Drama** (e.g., "The Godfather" & "The Dark Knight") (excluding already watched movie)                                        | Recommendations list is non-empty; user’s recommendations reflect valid logic  | N/A                  | Y               |
| 13     | Validate error handling when input file cannot be read                         | Req-5.1  | Cond-5.1 | File Path: **"nonexistent_movies.txt"**                                                                                                                              | Invoke `loadMoviesFromFile("nonexistent_movies.txt")`                                                                                                                                                                                                     | Returns error message: **"ERROR: File not found or cannot be read"**                                                                                             | No movies loaded; error captured                                  | N/A                  | Y               |
| 14     | Validate recommendations for a user with multiple movies in watch history      | Req-4.1  | Cond-4.2 | User with watch history:<br>- Movie 1 (Action, Drama)<br>- Movie 2 (Comedy, Drama)<br>Other movies in system:<br>- Movie 3 (Action, Thriller)<br>- Movie 4 (Drama, Romance)<br>- Movie 5 (Comedy, Family) | Create user with multiple movies in watch list<br>Invoke `recommendMoviesForUser(multiMovieUser)` | Should recommend movies sharing genres (Action, Drama, Comedy):<br>- Movie 3 (Action, Thriller)<br>- Movie 4 (Drama, Romance)<br>- Movie 5 (Comedy, Family)<br>Should not recommend watched movies | User receives recommendations based on all watched movie genres | N/A | Y |
| 15     | Validate recommending similar movies based on shared genres                   | Req-4.2  | Cond-4.1 | Reference movie: Movie 1 (Action, Drama)<br>Other movies:<br>- Movie 2 (Comedy, Drama)<br>- Movie 3 (Action, Thriller)<br>- Movie 4 (Drama, Romance)<br>- Movie 5 (Comedy, Family) | Invoke `recommendSimilarMovies(movie1)` | Should return movies sharing at least one genre with Movie 1:<br>- Movie 2 (shares Drama)<br>- Movie 3 (shares Action)<br>- Movie 4 (shares Drama)<br>Should not include the reference movie itself | List of similar movies is returned based on genre overlap | N/A | Y |
| 16     | Validate retrieving movies by specific category                               | Req-4.3  | Cond-4.1 | Movies categorized as "Action":<br>- Movie 1 (Action, Drama)<br>- Movie 3 (Action, Thriller) | Invoke `getMoviesByCategory("Action")` | Should return list containing only movies with "Action" category:<br>- Movie 1<br>- Movie 3 | List contains exactly the movies in the specified category | N/A | Y |
| 17     | Validate getting user list from recommendation system                         | Req-4.4  | Cond-4.1 | Test User with ID "USER001" | Add test user to recommendation system<br>Invoke `getUsers()` | Should return list containing the added user | User list contains exactly the users added to the system | N/A | Y |
| 18     | Validate handling edge cases with null or empty inputs                        | Req-5.2  | Cond-5.1 | - Null user<br>- User with no watch history<br>- Non-existent movie<br>- Non-existent category | Test with various null/invalid inputs:<br>- `recommendMoviesForUser(null)`<br>- `recommendMoviesForUser(emptyUser)`<br>- `recommendSimilarMovies(nonExistentMovie)`<br>- `getMoviesByCategory("NonExistentCategory")` | Each call should return empty list instead of throwing exceptions | System handles edge cases gracefully | N/A | Y |
| 19     | Validate writing recommendations to output file                               | Req-6.1  | Cond-6.1 | - Regular user with recommendations<br>- User with error message | Create temporary file<br>Invoke `writeRecommendationsToFile(user, filePath)` for both users | - File contains user info and recommendations for regular user<br>- File contains user info, error message, and "No recommendations" for user with error | Output file contains correct recommendation data | N/A | Y |
| 20     | Validate parsing and loading movies from file                               | Req-3.1  | Cond-3.2 | File with movie data:<br>`Test Movie, TM001`<br>`Action, Drama`<br>`Another Movie, AM002`<br>`Comedy` | Invoke `loadMoviesFromFile(tempMovieFilePath, new ArrayList<>())` | - Should load 2 movies with correct IDs<br>- Movies should have proper category assignments | Movie data structures correctly populated from file | N/A | Y |
| 21     | Validate parsing and loading users with watchlists from file                | Req-3.2  | Cond-3.2 | - Movie file with valid movie IDs<br>- User file with 2 users and watchlists | Set up movie data first<br>Parse movie IDs<br>Invoke `loadUsersFromFile(tempUserFilePath, new ArrayList<>(), validMovieIds)` | - Should load 2 users<br>- First user should have 2 movies in watchlist<br>- Second user should have 1 movie in watchlist | User list populated with correct watchlist references | N/A | Y |
| 22     | Test Movie constructor with two parameters (ID and name)                       | Req-7.1  | Cond-7.1 | Movie ID: "m001"<br>Movie Name: "The Shawshank Redemption"                                                                                                           | Invoke `new Movie("m001", "The Shawshank Redemption")`                                                                                                                                                                                                      | Movie object should be created with specified ID and name, and with an empty genres array                                                                                                            | Movie object instantiated with correct properties                | ID: "m001"<br>Name: "The Shawshank Redemption"<br>Genres: [] | Y               |
| 23     | Test Movie constructor with three parameters (ID, name, genres)                | Req-7.1  | Cond-7.2 | Movie ID: "m002"<br>Movie Name: "The Godfather"<br>Genres: ["Crime", "Drama"]                                                                                       | Invoke `new Movie("m002", "The Godfather", new String[]{"Crime", "Drama"})`                                                                                                                                                                                 | Movie object should be created with specified ID, name, and genres                                                                                                                                  | Movie object instantiated with correct properties                | ID: "m002"<br>Name: "The Godfather"<br>Genres: ["Crime", "Drama"] | Y               |
| 24     | Test Movie getters and setters                                                | Req-7.2  | Cond-7.1 | Movie object initialized with "m003", "Pulp Fiction"                                                                                                                 | Create movie, then:<br>- Set ID to "m004"<br>- Set name to "Inception"<br>- Set genres to ["Sci-Fi", "Action"]                                                                                                                                              | Getters should return updated values                                                                                                                                                                | Movie properties updated correctly                               | ID: "m004"<br>Name: "Inception"<br>Genres: ["Sci-Fi", "Action"] | Y               |
| 25     | Test Movie compareTo method                                                   | Req-7.3  | Cond-7.1 | Movie 1: ID "m001", Name "Movie A"<br>Movie 2: ID "m002", Name "Movie B"<br>Movie 3: ID "m001", Name "Different Name"                                              | Compare movies:<br>- movie1.compareTo(movie2)<br>- movie2.compareTo(movie1)<br>- movie1.compareTo(movie3)                                                                                                                                                     | Should return negative value when comparing m001 to m002<br>Should return positive value when comparing m002 to m001<br>Should return 0 when comparing two movies with the same ID                    | Movie comparison based on ID works correctly                     | movie1.compareTo(movie2) < 0<br>movie2.compareTo(movie1) > 0<br>movie1.compareTo(movie3) == 0 | Y               |
| 26     | Test Movie equals method                                                      | Req-7.4  | Cond-7.1 | Movie 1: ID "m001", Name "Movie A"<br>Movie 2: ID "m001", Name "Different Name"<br>Movie 3: ID "m002", Name "Movie A"                                             | Compare equality:<br>- movie1.equals(movie2)<br>- movie1.equals(movie3)<br>- movie1.equals(null)<br>- movie1.equals("Not a movie")                                                                                                                           | Should return true when comparing movies with same ID<br>Should return false when comparing movies with different IDs<br>Should return false when comparing to null<br>Should return false when comparing to different type | Movie equality based on ID works correctly                       | movie1.equals(movie2) is true<br>movie1.equals(movie3) is false<br>movie1.equals(null) is false<br>movie1.equals("Not a movie") is false | Y               |
| 27     | Test Movie hashCode method                                                    | Req-7.4  | Cond-7.2 | Movie 1: ID "m001", Name "Movie A"<br>Movie 2: ID "m001", Name "Different Name"                                                                                    | Compare hash codes:<br>- movie1.hashCode()<br>- movie2.hashCode()                                                                                                                                                                                           | Movies with same ID should have same hash code                                                                                                                                                      | Hash code based on ID works correctly                            | movie1.hashCode() == movie2.hashCode()                        | Y               |
| 28     | Test handling of empty ID and name values                                     | Req-7.5  | Cond-7.1 | Empty strings for ID and name                                                                                                                                        | Invoke `new Movie("", "")`                                                                                                                                                                                                                                  | Constructor should accept empty strings                                                                                                                                                             | Movie created with empty strings                                 | ID: ""<br>Name: ""                                            | Y               |
| 29     | Test handling of null ID and name                                             | Req-7.5  | Cond-7.2 | Null ID or name values                                                                                                                                               | Invoke `new Movie(null, "Test Movie")` and `new Movie("m001", null)`                                                                                                                                                                                        | Constructor should throw NullPointerException                                                                                                                                                       | Appropriate exceptions thrown                                    | NullPointerException thrown                                    | Y               |
| 30     | Test handling of null genres                                                  | Req-7.5  | Cond-7.3 | Null genres array                                                                                                                                                    | Invoke `new Movie("m001", "Test Movie", null)`                                                                                                                                                                                                             | Constructor should throw NullPointerException                                                                                                                                                       | Appropriate exception thrown                                     | NullPointerException thrown                                    | Y               |
| 31     | Test genres array with null elements                                          | Req-7.5  | Cond-7.4 | Genres array with null element: ["Action", null, "Comedy"]                                                                                                           | Create movie with genres array containing null                                                                                                                                                                                                              | Constructor should accept genres array with null elements                                                                                                                                           | Movie created with genres containing null                        | Genres: ["Action", null, "Comedy"]                            | Y               |
| 32     | Test setting null values                                                      | Req-7.5  | Cond-7.5 | Movie object with null values passed to setters                                                                                                                      | Invoke setters with null values:<br>- setID(null)<br>- setName(null)<br>- setGenre(null)                                                                                                                                                                    | Each setter should throw NullPointerException                                                                                                                                                       | Appropriate exceptions thrown                                    | NullPointerException thrown for each setter                    | Y               |
| 33     | Test genre array defensive copying                                            | Req-7.6  | Cond-7.1 | Genres array: ["Action", "Adventure"]                                                                                                                                | Create movie with array, modify original array, get genres and modify returned array                                                                                                                                                                        | Original array modifications should not affect movie's genres<br>Modifications to returned array should not affect movie's genres                                                                    | Genre array protected from external modification                 | Original array changes don't affect movie<br>Changes to returned array don't affect movie | Y               |
| 34     | Test compareTo with null parameter                                            | Req-7.7  | Cond-7.1 | Movie object and null value                                                                                                                                          | Invoke `movie.compareTo(null)`                                                                                                                                                                                                                              | Should throw NullPointerException                                                                                                                                                                  | Appropriate exception thrown                                     | NullPointerException thrown                                    | Y               |
| 35     | Test compareTo case sensitivity                                               | Req-7.8  | Cond-7.1 | Movie 1: ID "M001" (uppercase)<br>Movie 2: ID "m001" (lowercase)                                                                                                    | Compare movies with case-different IDs                                                                                                                                                                                                                      | compareTo should be case sensitive                                                                                                                                                                 | Case sensitivity preserved in comparison                         | movie1.compareTo(movie2) != 0                                 | Y               |
| 36     | Test compareTo with complex IDs                                               | Req-7.8  | Cond-7.2 | Movie 1: ID "m9"<br>Movie 2: ID "m10"                                                                                                                               | Compare movies with IDs that could be treated differently in numeric vs. lexicographic ordering                                                                                                                                                              | Should compare lexicographically                                                                                                                                                                   | Lexicographic comparison done correctly                          | "m9" is less than "m10" in lexicographic ordering              | Y               |
| 37     | Test equals contract properties                                               | Req-7.9  | Cond-7.1 | Three movies with same ID                                                                                                                                            | Test reflexivity, symmetry, transitivity, and consistency of equals                                                                                                                                                                                         | All equals contract properties should be satisfied                                                                                                                                                 | Equals method follows contractual properties                     | Reflexivity, symmetry, transitivity, and consistency verified  | Y               |
| 38     | Test hashCode consistency                                                     | Req-7.10 | Cond-7.1 | Movie with modifications to non-ID fields                                                                                                                            | Get hash code, modify name and genres, get hash code again                                                                                                                                                                                                  | Hash code should only depend on ID and be consistent across calls                                                                                                                                   | Hash code implementation is correct                              | Hash code remains consistent when only name or genres change   | Y               |
| 39     | Test ID case sensitivity in equals and hashCode                               | Req-7.11 | Cond-7.1 | Movie 1: ID "m001"<br>Movie 2: ID "M001" (different case)                                                                                                           | Compare equality and hash codes of movies with same ID in different case                                                                                                                                                                                    | equals and hashCode should be case sensitive for IDs                                                                                                                                                | Case sensitivity preserved in equality and hash code             | movie1.equals(movie2) is false<br>movie1.hashCode() != movie2.hashCode() | Y               |
